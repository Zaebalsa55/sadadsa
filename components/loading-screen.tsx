"use client"

import { motion } from "framer-motion"
import { useEffect, useState } from "react"

export function LoadingScreen({ onComplete }: { onComplete: () => void }) {
  const [isVisible, setIsVisible] = useState(true)

  useEffect(() => {
    const timer = setTimeout(() => {
      setIsVisible(false)
      setTimeout(onComplete, 500)
    }, 6000) // Увеличиваем время для показа затухания

    return () => clearTimeout(timer)
  }, [onComplete])

  if (!isVisible) {
    return (
      <motion.div
        className="fixed inset-0 bg-white z-50 flex items-center justify-center"
        initial={{ opacity: 1 }}
        animate={{ opacity: 0 }}
        transition={{ duration: 0.5 }}
      />
    )
  }

  return (
    <motion.div
      className="fixed inset-0 bg-white z-50 flex items-center justify-center overflow-hidden"
      initial={{ opacity: 1 }}
      animate={{ opacity: 1 }}
    >
      <div className="relative w-full h-full flex items-center justify-center">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 817.05 1420.2"
          className="w-[30%] h-auto opacity-100"
          style={{ transform: "translateX(-100px)" }}
        >
          <defs>
            <style>{`
              .path-line {
                fill: none;
                stroke: #000;
                stroke-width: 0.86;
                stroke-linecap: round;
                stroke-linejoin: bevel;
              }
              .path-line-green {
                fill: none;
                stroke: #1B6568;
                stroke-width: 0.86;
                stroke-linecap: round;
                stroke-linejoin: bevel;
              }
            `}</style>
          </defs>

          {/* 1 очередь: id 111 и 1111 */}
          <motion.path
            id="_111"
            className="path-line"
            d="M108.48.29c-207.14,296-129.43,494.72,348,557"
            initial={{ pathLength: 0, opacity: 0 }}
            animate={{
              pathLength: [0, 1, 1, 1],
              opacity: [0, 1, 1, 0],
            }}
            transition={{
              duration: 1.2,
              delay: 0,
              times: [0, 0.4, 0.8, 1],
              ease: "easeInOut",
            }}
          />
          <motion.path
            id="_1111"
            className="path-line-green"
            d="M359.5,1419.29c174,19.16,724.5-637,299.55-688.54"
            initial={{ pathLength: 0, opacity: 0 }}
            animate={{
              pathLength: [0, 1, 1, 1],
              opacity: [0, 1, 1, 0],
            }}
            transition={{
              duration: 1.2,
              delay: 0,
              times: [0, 0.4, 0.8, 1],
              ease: "easeInOut",
            }}
          />

          {/* 2 очередь: id 222,22222,2222 */}
          <motion.path
            id="_222"
            className="path-line"
            d="M522,740.81s110.06-9.27,129-8.7c16.3.49,10.55-11.33,10.93-19.54.38,2.74-10.8,4.32-28.76,4.93l-72.85,5.25c-18,1.31-31.94,3-30.78-6.49l-4.22-129.39c-.66-9.27-.66-19.45-3-29.63,1.53,4.6,2.34,16.9,2.3,23.32a281.7,281.7,0,0,0,42.18,3,109.48,109.48,0,0,1,39.11,2,191.38,191.38,0,0,0,48.7,9.2c-1.16-13.8.76-22.66-4.33-23.61l-15.72-2,7,.95L645.9,575c1.36,3.39,1.49,6.42-.39,8.87a7.48,7.48,0,0,1-6.2,3.22,9.9,9.9,0,0,1-7.83-3.65c-4.58-5.83-2.3-10.44,3.3-14.35L601,564.79c-31.06-3.94-63.3-10.16-78.6-7.55-1.06-1.69-3.1-3.07-5.75-4.27a12.75,12.75,0,0,1,5.75,4.27,9.5,9.5,0,0,0-4.22,3.94c-5.75,8.54-14.57,18.72-25.69,25.29,8.13-3.58,16.86-13.81,25.69-25.29,3,53.93,3.92,115,3.83,179.63-4-1-7.76-3.54-11.5-6.57-2.3-3.61-8.43-6.89-13.8-11.16l-.39-6.9c2.66-1.48.77-5.25.77-8.21l-3.07-36.78c1.62-6.67,2.11-15.15,1.54-24-.56-10.53-1.63-17.8-3.07-22.66L491,608.47A43.54,43.54,0,0,1,494.45,582a52.26,52.26,0,0,0,13.41-15.23c5.37-12.8,13-20,25.3-17.4l88.2,11.16c19.35.1,30.38,4.76,32.74,14.68l8.31,146.95a12.83,12.83,0,0,1-1.14,6.08c-1.39,3-4.24,3.86-10,4"
            initial={{ pathLength: 0, opacity: 0 }}
            animate={{
              pathLength: [0, 1, 1, 1],
              opacity: [0, 1, 1, 0],
            }}
            transition={{
              duration: 1.2,
              delay: 0.3,
              times: [0, 0.4, 0.8, 1],
              ease: "easeInOut",
            }}
          />
          <motion.path
            id="_2222"
            className="path-line"
            d="M449.19,588.11c1,5.5,1.35,10.63.38,15.11a61.61,61.61,0,0,1-.76,14.77,99.9,99.9,0,0,1-5.37,18.06a7.59,7.59,0,0,0,1,4.21,19.2,19.2,0,0,1,1.09,8.77,8.18,8.18,0,0,1-.55,2.46,10.83,10.83,0,0,1-3.83,5.91,47.66,47.66,0,0,0,.77,16.42c.73,12.34.07,27.17-1.16,43,1.68,2.19,2.12,4.47.77,6.9-4.39,3.13-8.08,6.16-9.58,8.86.57,1.39,1.86,2.34,4.21,2.63a18.05,18.05,0,0,0,9.59-1.64,18.3,18.3,0,0,1,5.37-4.6,5,5,0,0,0,3.45-3.94l.38-7.55c-4.77,1.28-9.18,1.75-13,1a31.77,31.77,0,0,0,13-1l1.15-5.92a25,25,0,0,1-14.95.33c5.31,1.55,10.52,1.58,14.95-.33a47.77,47.77,0,0,0,2.69-10.18l10.35-46.3c3.57,26,7.27,49.85,11.5,64.37.18,4.51.75,8,2.49,8.49a12,12,0,0,1,2.55,1.1l4.17,2.23c3,2.58,6,3.85,9.2,3.61a16.92,16.92,0,0,0,8-1c1.18-1.59.33-3-1.15-4.27a54.4,54.4,0,0,1-9.2-6.57l-.39-6.9a75.94,75.94,0,0,1-16.1,2,77.74,77.74,0,0,0,16.1-2c1.87-1.68,1.22-3.81.77-5.91l-.38-1.64c-4.92,4.19-11.07,5-18,3.61,7.18,1.36,13.17.47,17.63-3.28a1.67,1.67,0,0,0,.77-1l-1.92-24.3c-1.57-14.94-2.69-31-3.45-47.94-2.18-16.26-3.73-31.71-3.83-45.32,2.31-5,8.09-10,14.19-15.44l5.36-7.55c1.2-4,4.66-9,8.44-14.12-3.56-2.36-7-2.22-10.35,2.63-3.51,6.67-3,10.13,2.68,9.52-2,.4-3.59-.06-4.6-1.64-6.9,5.58-10.74,10.84-18.41,10.18-5.85.86-10.5.82-11.5-2-.41-.88,1.31-3,3.84-5.58a30.6,30.6,0,0,0,1.53-14.13c-3.07-.65-8.75.8-17.13,3.3-2.9.72-5.3,1.42-4.6,2a13.4,13.4,0,0,0,4.47,7.83c4.13,4,8.23,5.85,12.27,4.93-.76,1.64-.38,2.62,1.15,3.28-.08,3.16-2.31,5.12-8.43,4.93-3.84-.33-7.34-2.2-8.44-4.93l-3.83,1c3.78,6.51,6.74,12.48,5.75,15.76h-3.07a75.34,75.34,0,0,0-6.84-14.35c3.08,5.66,6,11.12,6.84,14.35,8.78-.4,16.85-.53,24.93-.33a36.27,36.27,0,0,0-3.45-15.76c2.34,5.49,3.65,10.77,3.45,15.76h3.06c-.1-6.5-.7-11.8-2.68-15.76"
            initial={{ pathLength: 0, opacity: 0 }}
            animate={{
              pathLength: [0, 1, 1, 1],
              opacity: [0, 1, 1, 0],
            }}
            transition={{
              duration: 1.2,
              delay: 0.3,
              times: [0, 0.4, 0.8, 1],
              ease: "easeInOut",
            }}
          />
          <motion.path
            id="_22222"
            className="path-line"
            d="M439.22,599c2.82.38,6.12,2,9.59,3.94a9.23,9.23,0,0,1-.39,7.55c-3.66,9-5.92,17.45-6.13,25,3,5.71,4.25,11.13,2.68,16.09l-1.91-1.64c-.77-5.59-2-5.68-2.45-2.22a5.49,5.49,0,0,0,1.06,4,4.24,4.24,0,0,1,.62,4.16c-4.39-1.31-6.38-4.63-7.29-8.87a45.59,45.59,0,0,0-1.15-22.33,52.89,52.89,0,0,1,5.37-25.94,5.21,5.21,0,0,1-3.45-1.32,37.24,37.24,0,0,1,6.14-14.45c3.22-4.63,8.41-7.64,15.72-8.86a4.15,4.15,0,0,0,3.45-3.94v-5.26l-2.3-2.95a12.38,12.38,0,0,1-1.54-5.58,9.59,9.59,0,0,1,0-4.27c.31-3.16,3.46-5.34,8.44-6.9a56.27,56.27,0,0,1,15.72,3c2.24.93,3.74,2.05,2.3,3.94l-8.82.32-11.48,2.92"
            initial={{ pathLength: 0, opacity: 0 }}
            animate={{
              pathLength: [0, 1, 1, 1],
              opacity: [0, 1, 1, 0],
            }}
            transition={{
              duration: 1.2,
              delay: 0.3,
              times: [0, 0.4, 0.8, 1],
              ease: "easeInOut",
            }}
          />

          {/* 3 очередь: id 34, 345, 23 */}
          <motion.path
            id="_34"
            className="path-line"
            d="M447.27,631.13a30.24,30.24,0,0,0,7.29-13.47,86.33,86.33,0,0,0,30.67.66A78,78,0,0,0,492,640.09"
            initial={{ pathLength: 0, opacity: 0 }}
            animate={{
              pathLength: [0, 1, 1, 1],
              opacity: [0, 1, 1, 0],
            }}
            transition={{
              duration: 1.2,
              delay: 0.6,
              times: [0, 0.4, 0.8, 1],
              ease: "easeInOut",
            }}
          />
          <motion.path
            id="_345"
            className="path-line"
            d="M460.69,595.33v12.15c6.76,4.28,13,5,18.41,0A41.77,41.77,0,0,0,480.25,595C473.51,595,466.67,594.79,460.69,595.33Z"
            initial={{ pathLength: 0, opacity: 0 }}
            animate={{
              pathLength: [0, 1, 1, 1],
              opacity: [0, 1, 1, 0],
            }}
            transition={{
              duration: 1.2,
              delay: 0.6,
              times: [0, 0.4, 0.8, 1],
              ease: "easeInOut",
            }}
          />
          <motion.path
            id="_23"
            className="path-line"
            d="M532.78,563.15c-.38,6,0,11.36,4.6,12.81,11.19,4.27,27.23,4.6,31.44.33a52.27,52.27,0,0,0-.76-12.81,236.36,236.36,0,0,0-34.9-3.28,27.53,27.53,0,0,0-.13,9.51.75.75,0,0,0,.89.53c11.72-2,23.37-.51,34.9,3.42v2.63A115.89,115.89,0,0,0,533.93,573"
            initial={{ pathLength: 0, opacity: 0 }}
            animate={{
              pathLength: [0, 1, 1, 1],
              opacity: [0, 1, 1, 0],
            }}
            transition={{
              duration: 1.2,
              delay: 0.6,
              times: [0, 0.4, 0.8, 1],
              ease: "easeInOut",
            }}
          />

          {/* 4 очередь: id 5 */}
          <motion.path
            id="_5"
            className="path-line"
            d="M552.5,610.29c-3,4.32-4.34,8.72-6,14-8.32,26.52,8,50.05,32.29,60q26.61,10.09,47.93-4.93c12.69-9.15,18-21.43,18.41-35.79.85-17.81-7.89-32.67-23.77-45.32-18.74-10.89-36.86-13.16-54.07-2.63C561.35,600.4,556.69,604.35,552.5,610.29Z"
            initial={{ pathLength: 0, opacity: 0 }}
            animate={{
              pathLength: [0, 1, 1, 1],
              opacity: [0, 1, 1, 0],
            }}
            transition={{
              duration: 1.2,
              delay: 0.9,
              times: [0, 0.4, 0.8, 1],
              ease: "easeInOut",
            }}
          />

          {/* 5 очередь: id 6 */}
          <motion.path
            id="_6"
            className="path-line"
            d="M569.21,600.59c-18.92,16-23,36.42-13.71,56.7,4.33,9.43,12.15,15.39,21.33,20.22,10.4,5.48,21.82,6.32,34.67,2.78,12.85-4.2,20.83-8.93,25-19,1.15-2.78,2.94-5.92,3.31-8.84,2.48-19.89-3.22-35.26-17.3-47.92C608.7,591.72,587.47,589,569.21,600.59Z"
            initial={{ pathLength: 0, opacity: 0 }}
            animate={{
              pathLength: [0, 1, 1, 1],
              opacity: [0, 1, 1, 0],
            }}
            transition={{
              duration: 1.2,
              delay: 1.2,
              times: [0, 0.4, 0.8, 1],
              ease: "easeInOut",
            }}
          />

          {/* 6 очередь: id 7 */}
          <motion.path
            id="_7"
            className="path-line"
            d="M630.79,657.07l-.38-.21c-6.2-3.55-10-9.49-10-15.88a30.45,30.45,0,0,1,1.23-8.21c4.19-5.76,8.85-8.12,14.19-5.58,4.16,3.56,5.08,13.72,3.88,26.43a3.88,3.88,0,0,1-.37,1.37c-1.11,2.23-4.1,2.79-8.5,2.08-3.34,6.9-9.8,11.11-17.64,14.12-22.94,5.18-41.1-6.08-47.58-27.5a28.61,28.61,0,0,1,3.31-24.12,33.66,33.66,0,0,1,6.31-7.82c6.52-6.24,18.66-9.24,29.53-7.22,14,4.64,22.62,11.82,25.69,21"
            initial={{ pathLength: 0, opacity: 0 }}
            animate={{
              pathLength: [0, 1, 1, 1],
              opacity: [0, 1, 1, 0],
            }}
            transition={{
              duration: 1.2,
              delay: 1.5,
              times: [0, 0.4, 0.8, 1],
              ease: "easeInOut",
            }}
          />

          {/* 7 очередь: id 8 */}
          <motion.path
            id="_8"
            className="path-line"
            d="M625.57,626.86c-8.93-17.85-31.82-24.3-47.54-12.15-16.53,15.58-10.53,39.58,13,51.23,15.14,3.79,27.21,1.14,34.51-11.5"
            initial={{ pathLength: 0, opacity: 0 }}
            animate={{
              pathLength: [0, 1, 1, 1],
              opacity: [0, 1, 1, 0],
            }}
            transition={{
              duration: 1.2,
              delay: 1.8,
              times: [0, 0.4, 0.8, 1],
              ease: "easeInOut",
            }}
          />

          {/* 8 очередь: id 10 */}
          <motion.path
            id="_10"
            className="path-line"
            d="M635.16,627.55c-9.94.53-14.33,5.84-11.5,17.37,2.06,5.56,4.39,9.58,7.8,10a2.1,2.1,0,0,0,2.41-1.56c1.83-10.8.3-18.91-2.93-25.22l-3.45,1.32c4.76,8.37,6,16.33.77,23.64"
            initial={{ pathLength: 0, opacity: 0 }}
            animate={{
              pathLength: [0, 1, 1, 1],
              opacity: [0, 1, 1, 0],
            }}
            transition={{
              duration: 1.2,
              delay: 2.1,
              times: [0, 0.4, 0.8, 1],
              ease: "easeInOut",
            }}
          />

          {/* 9 очередь: id 11 (зеленая) */}
          <motion.path
            id="_11"
            className="path-line-green"
            d="M573.12,650.45l11.36-6.7,3.68,6.39c1.76-7.83,1.88-17.29,1.39-27.33,4.31,12.47,8.64,25.52,12.76,24.66l.61-13.52c1.71,4.09,3.6,6.71,6,5.45l11.23-2.62"
            initial={{ pathLength: 0, opacity: 0 }}
            animate={{
              pathLength: [0, 1, 1, 1],
              opacity: [0, 1, 1, 0],
            }}
            transition={{
              duration: 1.2,
              delay: 2.4,
              times: [0, 0.4, 0.8, 1],
              ease: "easeInOut",
            }}
          />
        </svg>
      </div>
    </motion.div>
  )
}
